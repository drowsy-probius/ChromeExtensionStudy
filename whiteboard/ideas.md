처음 실행(설정)
id/passwd (아니면 session? token?)
코스 별로 공지사항/수업자료 주소 입력
새로고침할 시간 간격
현재 공지사항/수업자료 정보 저장
storage, chrome.local.set

각 수업별로 linked list로 구현.

실행 시
chrome.local.get으로 설정 정보, 이전 공지사항/수업자료 정보 불러오기
각 코스별로 탭 생성
현재 정보 불러오기
chrome.local.get으로 불러온 이전 정보하고 비교
다르면 다른 숫자만큼 배지에 표시 + 각 탭에 표시 + 알림음?
불러온 정보 chrome.local.set으로 저장

로그아웃되면 저장된 id/passwd로 다시 로그인/ 아니면 session refresh?


{
    cId1:{cName: "",
            cmId: { p1: 123, p2: 234},
            cAnnoun: []} 
}


https://developer.chrome.com/extensions/webNavigation

https://ourcstory.tistory.com/158 //js 딕셔너리

https://stackoverflow.com/questions/19054299/how-to-get-elements-from-a-webpage-dom-into-my-background-js

var courseId = JS_RESOURCES['bb.instructorView.lightbox.courseId'];
var contentId = JS_RESOURCES['bb.instructorView.lightbox.contentId'];

https://developers.google.com/web/fundamentals/primers/promises?hl=ko
// promisd하고 xmlhttp

공지사항 불러오기???
https://kulms.korea.ac.kr/webapps/blackboard/execute/announcement?method=search&context=course_entry&course_id=${courseid}&handle=announcements_entry&mode=view
그냥 여기서 하자


https://developer.blackboard.com/portal/displayApi/Learn?version=3400.0.0 참고.
블랙보드 로그인 후에 내가 얻을 수 있는 정보들은 접근 가능함.

https://kulms.korea.ac.kr/learn/api/public/v1/users?userName=${학번}    으로 접근하면 userid 얻을 수 있음.
{"results":[{"id":"_843184_1","userName":"2018320138","studentId":"k123s456h","educationLevel":"Unknown","gender":"Unknown","systemRoleIds":["User"],"name":{"given":"김석희","family":".","other":"k123s456h"},"contact":{"email":"k123s456h@gmail.com"}}]}
https://kulms.korea.ac.kr/learn/api/public/v1/users/${userid}/courses   으로 접근하면 아래내용 얻음. created하고 availability.available이 yes/disabled해서 courseid 가져오면 될듯
{"results":[{"userId":"_843184_1","courseId":"_115823_1","dataSourceId":"_75_1","created":"2018-03-07T11:07:40.623Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-09-09T21:56:07.513Z"},{"userId":"_843184_1","courseId":"_116730_1","dataSourceId":"_75_1","created":"2018-02-28T17:28:40.170Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-09-19T13:22:52.367Z"},{"userId":"_843184_1","courseId":"_117485_1","dataSourceId":"_75_1","created":"2018-02-28T17:16:17.123Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2018-03-07T03:37:37.047Z"},{"userId":"_843184_1","courseId":"_117486_1","dataSourceId":"_75_1","created":"2018-02-28T17:16:14.840Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-06-24T07:53:55.117Z"},{"userId":"_843184_1","courseId":"_118240_1","dataSourceId":"_75_1","created":"2018-02-28T16:45:07.957Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-09-09T21:56:10.247Z"},{"userId":"_843184_1","courseId":"_118244_1","dataSourceId":"_75_1","created":"2018-02-28T16:44:58.850Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-12-06T10:19:38.943Z"},{"userId":"_843184_1","courseId":"_119475_1","dataSourceId":"_75_1","created":"2018-03-07T11:09:17.847Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-03-12T12:29:17.827Z"},{"userId":"_843184_1","courseId":"_119514_1","dataSourceId":"_75_1","created":"2018-02-28T17:12:40.583Z","availability":{"available":"Disabled"},"courseRoleId":"Student"},{"userId":"_843184_1","courseId":"_119529_1","childCourseId":"_119475_1","dataSourceId":"_75_1","created":"2018-03-07T11:09:17.847Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-09-09T21:56:08.920Z"},{"userId":"_843184_1","courseId":"_119532_1","childCourseId":"_119514_1","dataSourceId":"_75_1","created":"2018-02-28T17:12:40.583Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2018-03-14T00:00:37.163Z"},{"userId":"_843184_1","courseId":"_122849_1","dataSourceId":"_75_1","created":"2018-03-08T15:30:41.973Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-05-07T07:59:29.097Z"},{"userId":"_843184_1","courseId":"_123288_1","dataSourceId":"_2_1","created":"2018-04-02T10:07:20.443Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-03-04T04:24:36.827Z"},{"userId":"_843184_1","courseId":"_123843_1","dataSourceId":"_2_1","created":"2018-05-15T00:00:42.270Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-09-06T12:29:38.343Z"},{"userId":"_843184_1","courseId":"_124279_1","dataSourceId":"_2_1","created":"2018-09-04T12:38:48.190Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-03-04T04:24:36.827Z"},{"userId":"_843184_1","courseId":"_129121_1","dataSourceId":"_84_1","created":"2018-08-23T04:07:50.413Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-03-22T16:32:49.993Z"},{"userId":"_843184_1","courseId":"_129633_1","dataSourceId":"_84_1","created":"2018-08-23T03:55:00.977Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-21T01:29:46.157Z"},{"userId":"_843184_1","courseId":"_129804_1","dataSourceId":"_84_1","created":"2018-08-23T03:47:31.607Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-01-01T09:33:57.780Z"},{"userId":"_843184_1","courseId":"_129819_1","dataSourceId":"_84_1","created":"2018-08-23T03:46:30.480Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-10-18T12:12:17.317Z"},{"userId":"_843184_1","courseId":"_130546_1","dataSourceId":"_84_1","created":"2018-08-23T03:26:54.970Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-04-12T03:31:31.253Z"},{"userId":"_843184_1","courseId":"_130557_1","dataSourceId":"_84_1","created":"2018-08-23T03:26:27.177Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-01-04T09:11:00.533Z"},{"userId":"_843184_1","courseId":"_130561_1","dataSourceId":"_84_1","created":"2018-08-23T03:26:18.300Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-01-01T09:33:57.780Z"},{"userId":"_843184_1","courseId":"_131373_1","dataSourceId":"_84_1","created":"2018-09-02T09:02:51.497Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-01-27T10:56:41.293Z"},{"userId":"_843184_1","courseId":"_131551_1","dataSourceId":"_84_1","created":"2018-09-13T06:59:20.767Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-12-06T01:46:35.230Z"},{"userId":"_843184_1","courseId":"_132123_1","dataSourceId":"_84_1","created":"2018-10-12T16:06:10.977Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-12-12T10:54:58.433Z"},{"userId":"_843184_1","courseId":"_132238_1","dataSourceId":"_2_1","created":"2018-12-03T05:11:24.827Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2018-12-03T05:11:31.723Z"},{"userId":"_843184_1","courseId":"_135663_1","dataSourceId":"_88_1","created":"2019-02-25T16:10:45.377Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2019-03-06T09:03:40.583Z"},{"userId":"_843184_1","courseId":"_136622_1","dataSourceId":"_88_1","created":"2019-03-07T20:12:51.713Z","availability":{"available":"Disabled"},"courseRoleId":"Student"},{"userId":"_843184_1","courseId":"_136629_1","dataSourceId":"_88_1","created":"2019-02-25T15:59:00.070Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2019-03-06T09:03:40.583Z"},{"userId":"_843184_1","courseId":"_137606_1","dataSourceId":"_88_1","created":"2019-03-08T04:12:38.750Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-20T04:49:25.893Z"},{"userId":"_843184_1","courseId":"_137874_1","dataSourceId":"_88_1","created":"2019-03-07T20:12:21.570Z","availability":{"available":"Disabled"},"courseRoleId":"Student"},{"userId":"_843184_1","courseId":"_138305_1","dataSourceId":"_88_1","created":"2019-03-08T20:18:17.160Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-21T16:01:25.047Z"},{"userId":"_843184_1","courseId":"_138309_1","dataSourceId":"_88_1","created":"2019-02-25T15:39:48.680Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2019-03-11T01:37:02.980Z"},{"userId":"_843184_1","courseId":"_138310_1","dataSourceId":"_88_1","created":"2019-03-11T04:13:25.700Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-21T00:44:45.967Z"},{"userId":"_843184_1","courseId":"_138312_1","dataSourceId":"_88_1","created":"2019-03-08T20:21:12.330Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-21T17:17:25.157Z"},{"userId":"_843184_1","courseId":"_138315_1","dataSourceId":"_88_1","created":"2019-03-08T20:19:26.210Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-03-17T12:11:37.480Z"},{"userId":"_843184_1","courseId":"_138320_1","dataSourceId":"_88_1","created":"2019-02-25T15:39:28.130Z","availability":{"available":"Disabled"},"courseRoleId":"Student","lastAccessed":"2019-03-11T01:37:02.980Z"},{"userId":"_843184_1","courseId":"_138321_1","dataSourceId":"_88_1","created":"2019-03-11T04:14:39.923Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-03-17T12:11:37.480Z"},{"userId":"_843184_1","courseId":"_140268_1","dataSourceId":"_2_1","created":"2019-04-08T14:42:16.417Z","availability":{"available":"Yes"},"courseRoleId":"Student","lastAccessed":"2019-05-13T05:21:41.477Z"}],"paging":{"nextPage":"/learn/api/public/v1/users/_843184_1/courses?offset=38"}}

https://kulms.korea.ac.kr/learn/api/public/v1/courses/_138319_1/announcements 으로 접근하면 코스 공지사항

https://kulms.korea.ac.kr/learn/api/public/v1/courses/${courseid} 으로 접근하면 코스 정보
{"id":"_138305_1","courseId":"20191R0136COSE28300","name":"[학부]회로이론(영강)(ENGINEERING CIRCUITS(English))-00분반","organization":false,"ultraStatus":"Classic","readOnly":false,"termId":"_64_1","availability":{"available":"Term","duration":{"type":"Continuous"}},"enrollment":{"type":"InstructorLed"},"locale":{"id":"en_US"},"externalAccessUrl":"https://kulms.korea.ac.kr/webapps/blackboard/execute/courseMain?course_id=_138305_1&sc="}

https://kulms.korea.ac.kr/learn/api/public/v1/courses/${courseid}/gradebook/columns 으로 접근하면 코스 성적 '정보'
{"results":[{"id":"_1140587_1","name":"Total","description":"OutcomeDefinition.Total.description","score":{"possible":19.00000},"grading":{"type":"Calculated"}},{"id":"_1148314_1","name":"HW 1","contentId":"_2338082_1","score":{"possible":3.00000},"grading":{"type":"Attempts","due":"2019-04-04T14:59:00.000Z","attemptsAllowed":3,"scoringModel":"Last"}},{"id":"_1174650_1","name":"HW 2","contentId":"_2357381_1","score":{"possible":3.00000},"grading":{"type":"Attempts","due":"2019-04-11T14:59:00.000Z","attemptsAllowed":3,"scoringModel":"Last"}},{"id":"_1177376_1","name":"HW 3","contentId":"_2367132_1","score":{"possible":3.00000},"grading":{"type":"Attempts","attemptsAllowed":3,"scoringModel":"Last"}},{"id":"_1179097_1","name":"HW 4","contentId":"_2376525_1","score":{"possible":4.00000},"grading":{"type":"Attempts","due":"2019-05-16T14:59:00.000Z","attemptsAllowed":1,"scoringModel":"Last"}},{"id":"_1179786_1","name":"HW 5","contentId":"_2380559_1","score":{"possible":3.00000},"grading":{"type":"Attempts","due":"2019-05-23T14:59:00.000Z","attemptsAllowed":3,"scoringModel":"Last"}},{"id":"_1180862_1","name":"HW 6","contentId":"_2386236_1","score":{"possible":3.00000},"grading":{"type":"Attempts","due":"2019-06-04T14:59:00.000Z","attemptsAllowed":3,"scoringModel":"Last"}}]}

https://kulms.korea.ac.kr/learn/api/public/v1/courses/${courseid}/gradebook/users/${userid} 으로 접근하면 내 코스 성적
{"results":[{"userId":"_843184_1","columnId":"_1140587_1","exempt":false},{"userId":"_843184_1","columnId":"_1148314_1","status":"NeedsGrading","exempt":false},{"userId":"_843184_1","columnId":"_1174650_1","status":"NeedsGrading","exempt":false},{"userId":"_843184_1","columnId":"_1177376_1","status":"NeedsGrading","exempt":false},{"userId":"_843184_1","columnId":"_1179097_1","status":"NeedsGrading","exempt":false},{"userId":"_843184_1","columnId":"_1179786_1","status":"NeedsGrading","exempt":false}]}

https://kulms.korea.ac.kr/learn/api/public/v1/courses/_138305_1/contents 으로 접근하면 assessment id하고 assignment id 얻을 수 있음
{"results":[{"id":"_2308088_1","title":"Course Materials","created":"2017-02-09T07:08:57.493Z","position":3,"hasChildren":true,"availability":{"available":"Yes","allowGuests":false,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-folder"}},{"id":"_2308089_1","title":"Assignments","created":"2017-02-09T07:08:57.707Z","position":5,"hasChildren":true,"availability":{"available":"Yes","allowGuests":false,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-folder"}}]}

https://kulms.korea.ac.kr/learn/api/public/v1/courses/_138305_1/contents/_2308088_1/children 으로 접근하면 코스에 대한 assessment나 assignment 얻을 수 있음
{"results":[{"id":"_2324322_1","parentId":"_2308088_1","title":"Syllabus","created":"2019-03-06T08:36:19.380Z","position":0,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"Syllabus - EC - 2019.pdf"}}},{"id":"_2324323_1","parentId":"_2308088_1","title":"Lecture note for ch. 1","created":"2019-03-06T08:36:34.317Z","position":1,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"ch1.pdf"}}},{"id":"_2329271_1","parentId":"_2308088_1","title":"Lecture note for ch 2","created":"2019-03-12T01:02:10.137Z","position":2,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch2.pdf"}}},{"id":"_2360296_1","parentId":"_2308088_1","title":"Lecture note for ch 3","created":"2019-04-01T23:18:44.603Z","position":3,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch3.pdf"}}},{"id":"_2365163_1","parentId":"_2308088_1","title":"Lecture note for ch 4","created":"2019-04-08T14:43:48.503Z","position":4,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch4.pdf"}}},{"id":"_2371315_1","parentId":"_2308088_1","title":"Solution of hw 2","created":"2019-04-18T08:03:45.210Z","position":5,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-hw-ch2-soln.pdf"}}},{"id":"_2376504_1","parentId":"_2308088_1","title":"Python for complex variables","created":"2019-05-02T01:19:51.620Z","position":6,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"Python for complex values.pdf"}}},{"id":"_2376698_1","parentId":"_2308088_1","title":"Lecture note for ch. 5","created":"2019-05-02T03:16:16.483Z","position":7,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch5.pdf"}}},{"id":"_2379972_1","parentId":"_2308088_1","title":"Lecture note for ch. 6","created":"2019-05-08T07:24:13.443Z","position":8,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch6.pdf"}}},{"id":"_2382727_1","parentId":"_2308088_1","title":"Lecture note for ch 7","created":"2019-05-14T04:48:02.237Z","position":9,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-ch7.pdf"}}},{"id":"_2382729_1","parentId":"_2308088_1","title":"Solution of midterm","created":"2019-05-14T04:49:01.227Z","position":10,"availability":{"available":"Yes","allowGuests":true,"adaptiveRelease":{}},"contentHandler":{"id":"resource/x-bb-file","file":{"fileName":"EC-2019-Midterm-sol.pdf"}}}]}






